Grammar:		DataElement 5.0
Namespace:		shr.core


EntryElement:	AdverseEvent
Based on:		ClinicalStatement
Description:	"A record of an untoward or unexpected event in a patient under treatment, and which does not necessarily have to have a causal relationship with that treatment. Adverse events may capture either a workflow breach that may or may not result in harm, but must be documented for quality improvement purposes, or an adverse finding whether or not it can be traceable to an actual workflow breach."
0..1			Identifier
1..1			Mode from http://hl7.org/fhir/ValueSet/adverse-event-actuality
0..1			Category from http://hl7.org/fhir/ValueSet/adverse-event-category
0..1			EventCode should be from MedDRAVS
1..1			SubjectOfRecord value is type ref(Patient)
0..1			CareContext value is type ref(Encounter)
0..1			OccurrenceTime
0..1			DetectionTime
0..1			StatementDateTime
0..*			ResultingCondition
0..1			ref(Location)
1..1			Seriousness
0..1			Severity from http://hl7.org/fhir/ValueSet/adverse-event-severity
0..1			Outcome from http://hl7.org/fhir/ValueSet/adverse-event-outcome
0..1			HumanAuthor
0..1			Participant  // upper card from STU3
0..*			PotentialCause
0..1			AssociatedStudy
	// SHR Extensions
0..*			ActionTaken

	Element:		DetectionTime
	Description:	"The date on which the existence of the AdverseEvent first become known or was first observed."
	Value:			dateTime

	Element:		Seriousness
	Description:	"A coded value specifying the level of injury suffered by the subject for whom the event is reported, perferrably using the CTCAE coding system."
	Value:			CodeableConcept could be from http://hl7.org/fhir/ValueSet/adverse-event-seriousness

	Element:		ResultingCondition
	Description:	"The condition, sign or symptom triggering the adverse event report."
	Value:			ref(Condition)

	Element:		PotentialCause
	Description:	"A possible cause of an observed adverse event, known or theorized. There can be more than one possible cause."
	1..1			SuspectEntity
	1..1			Certainty
	// SHR Extensions
	1..1			CauseCategory 

			Element:		SuspectEntity
			Description:	"Identifies the actual instance of what may have caused the adverse event."
			Value:			ref(Procedure) or ref(Substance) or ref(Medication) or ref(MedicationAdministration) or ref(MedicationStatement) or ref(Device) // or ref(Immunization) (in FHIR R4)
	
			Element:		Certainty
			Description:	"The degree of confidence in a conclusion or assertion."
			Value:			CodeableConcept could be from http://hl7.org/fhir/ValueSet/adverse-event-causality-assess 
			
			Element:		CauseCategory
			Description:	"Whether the adverse event is attributed to a treatment, course of the disease, unrelated to either, or unknown. "
			Value:			CodeableConcept from AttributionCategoryVS

	Element:		ActionTaken
	Description:	"The action taken as a result of the adverse reaction. May include changing or discontinuing medication, reducing dose, etc."
	1..1			CommentOrDescription
	0..1			ref(ActionStatement)  // such as MedicationChangeStatement

	Element:		AssociatedStudy
	Description:	"The related clinical trial or other formal study."
	Value:			ref(ResearchStudy)

// Adverse drug reactions are a subset of adverse events, and are specifically associated with an exposure to a medication.
EntryElement:	AdverseDrugReaction
Based on:		AdverseEvent
Description:	"A noxious and unintended response to a medicinal product. To be considered an ADR, a causal relationship must be at least suspected by the medical practitioner. The principal difference between an adverse drug reaction (ADR) an adverse event (AE) and is that a causal relationship is suspected for the ADR, but is not required for the AE. Adverse drug reactions are therefore a subset of adverse event reports."
1..*			PotentialCause
				PotentialCause.SuspectEntity is type MedicationType

			Element:		MedicationType
			Based on:		SuspectEntity
			Description:	"Drug suspected as possible cause of the adverse event."
			Value:			ref(Medication) or ref(MedicationAdministration) or ref(MedicationStatement)

